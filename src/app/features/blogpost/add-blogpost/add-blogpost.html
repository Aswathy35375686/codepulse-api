<div class="container">
    <h1 class="mt-3">Add Blog Post</h1>

    <form [formGroup]="addBlogPostForm" class="mt-3" (ngSubmit)="onSubmit()">
        <div class="mb-3">
            <label class="form-label">Title</label>
            <input type="text" class="form-control" formControlName="Title">


        </div>
        <div class="mb-3">
            <label class="form-label">Short Description</label>
            <input type="text" class="form-control" formControlName="ShortDescription">


        </div>
        <div class="mb-3">

        <div class="mb-3">
            <div class="d-flex flex-row">
                <div class="col-6 p-2">
                      <label class="form-label">Content</label>
            <textarea class="form-control" formControlName="Content" rows="5"></textarea>
        </div>

                </div>
                <div class="col-6 p-2" style="max-height: 350px; overflow-y: scroll;">
            <markdown [data]="addBlogPostForm.get('Content')?.value"></markdown>
            </div>
        </div>



          
        <div class="mb-3">
            <label class="form-label">Featured Image URL  <button class="btn btn-light" type="button"(click)="imageSelectorService.displayshowImageSelector()">
                  Select Images  
                </button></label>
          

            @if (addBlogPostForm.controls.FeaturedImageUrl.getRawValue()) {
                <div>
                    <img
                    style="width: 100px;"
                    class="my-2"
                    [src]="addBlogPostForm.controls.FeaturedImageUrl.getRawValue()"
                    />

            
        </div>
    }
        <div class="mb-3">
            <label class="form-label">URL Handle</label>
            <input type="text" class="form-control" formControlName="UrlHandle">
        </div>
        <div class="mb-3">
            <label class="form-label">Published Date</label>
            <input type="date" class="form-control" formControlName="PublishedDate">
        </div>
        <div class="mb-3">
            <label class="form-label">Author</label>
            <input type="text" class="form-control" formControlName="Author">
        </div>
         <div class="mb-3">
        <div class="form-check">
            <input class="form-check-input" type="checkbox"  id="isVisible" formControlName="IsVisible"/>
            <label class="form-check-label" for="isVisible">Is Visible</label>

        </div>
        <div class="mb-3">
            <label class="form-label">Categories</label>
            <select class="form-control" multiple formControlName="categories">
                @for(category of categoriesResponse(); track category.id){
                    <option [value]="category.id">{{category.name}}</option>
                   
                }
            
            </select>
        <div class="mt-3">
                <button type="submit" class="btn btn-primary">Save</button>

            </div>
        </div>
